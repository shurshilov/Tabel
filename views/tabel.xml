<?xml version="1.0" encoding="UTF-8"?>
<openerp>
<data>
    <template id="assets_backend" name="tabel assets" inherit_id="web.assets_backend">
            <xpath expr="." position="inside">
                <link rel="stylesheet" href="/Tabel/static/src/css/tabel.css"/>
            </xpath>
    </template>

        <record id="model_action_id" model="ir.actions.act_window">
                <field name="name">Валидация пароля</field>
                <field name="type">ir.actions.act_window</field> 
                <field name="res_model">tabel.temp</field>
                <field name="view_type">form</field>
                <field name="view_mode">form</field>
            <!--    <field name="view_id" ref="my_specific_view"/> -->
        </record>
    <!-- password tree view-->
    <record model="ir.ui.view" id="password_tree_view">
	<field name="name">password.tree</field>
	<field name="model">tabel.password</field>
	<field name="arch" type="xml">
	<tree string="Password Tree" >
	    <field name="user_id"/>
	    <field name="password" />
	</tree>
	</field>
    </record>

    <!-- password form view-->
    <record model="ir.ui.view" id="password_graph_view">
	<field name="name">password.graph</field>
	<field name="model">tabel.password</field>
	<field name="arch" type="xml">
	<graph string="Leads Analysis" type="pivot" stacked="True">
		    <field name="user_id" type="row"/>
		    <field name="password" type="col"/>
	</graph>
	</field>
    </record>

    <!-- temp tree view-->
    <record model="ir.ui.view" id="temp_tree_view">
	<field name="name">temp.tree</field>
	<field name="model">tabel.temp</field>
	<field name="arch" type="xml">
	<tree string="Temp Tree" >
	    <field name="user_id"/>
	    <field name="password" />
	</tree>
	</field>
    </record>

    <!-- temp validation form-->
    <record model="ir.ui.view" id="my_specific_view">
	<field name="name">password.form2</field>
	<field name="model">tabel.temp</field>
	<field name="act_window_id" ref="model_action_id"/>
	<field name="arch" type="xml">
	<form string="Password Form Validation">
	    <sheet>
	    <group>
	    <field name="user_id" />
	    <field name="password" password="True" default_focus="1"/>
			<button
                                name="validation"
                                type="object"
                                string="Подписать"
				context="{'password':password,'user_id':user_id,}"
				class="oe_inline oe_stat_button" 
				icon="fa-check-circle-o"
                        />
			<button name="cancel" string="Отмена" special="cancel" class="oe_inline oe_stat_button" icon="fa-stop"/>
	    </group>
	    </sheet>
	</form>
        </field>
    </record>

    <!-- division form view -->
    <record model="ir.ui.view" id="division_form_view">
	<field name="name">division.form</field>
	<field name="model">tabel.division</field>
	<field name="arch" type="xml">
	<form string="Division Form">
	    <sheet>
		<group>
		    <field name="id"/>
		    <field name="name"/>
		    <field name="enddate"/>
		    <field name="startdate"/>
		</group>
	    </sheet>
	</form>
	</field>
    </record>
<!-- division tree view -->
     <record model="ir.ui.view" id="division_tree_view">
            <field name="name">division.tree</field>
            <field name="model">tabel.division</field>
            <field name="arch" type="xml">
                <tree string="Post Tree" >
			<field name="id" />
             		<field name="name"/> 
			<field name="enddate"/>
			<field name="startdate"/>
                </tree>
            </field>
        </record>

    <!-- tabel search view -->
    <record id="view_tabel_search" model="ir.ui.view">
        <field name="name">tabel.tabel.search</field>
        <field name="model">tabel.tabel</field>
        <field name="type">search</field>
        <field name="arch" type="xml">
            <search string="Checker">
		    <field name="id_ank" select="True"/>
		    <field name="id" select="True"/>
            </search>
        </field>
    </record>

    <!-- tabel form view -->
     <record model="ir.ui.view" id="tabel_form_view">
	<field name="name">tabel.form</field>
	<field name="model">tabel.tabel</field>
	<field name="arch" type="xml">
	<form string="Tabel Form">
	    <group>
		<field name="create_uid" string="Дата создания" readonly="True" invisible="True"/>
<!--		<field name="time_start_t" string="Дата начала табеля" attrs="{'readonly': [('create_uid','!=',1)] }" />
		<field name="time_end_t" string="Дата конца табеля" attrs="{'readonly': [('create_uid','!=',1)] }" /> -->
		<field name="time_start_t" string="Дата начала табеля" />
		<field name="time_end_t" string="Дата конца табеля" />
		<field name="id_ank" string="Табельщик" />
		<field name="id_division" string="Подразделение" domain="[('enddate','&gt;=',time_start_t),('startdate','&lt;=',time_end_t)  ]"/>
		<field name="dayall" readonly= "True" />
		<field name="check_signature" string="Валидация подписи" readonly= "True"/>
		<field name="format" string="Формат часвов(часы:минуты или десятичные часы)" readonly= "True" invisible="True"/>
		<field name="state" widget="statusbar" string="статус документа"/>
	    </group>
	<table>
	    <tr>
		<td>
			<button
				name="action_tabel"
				type="object"
				string="Обновить данные из приказов"
				groups="Tabel.group_import"
				attrs="{'invisible':[('state','!=','draft')],}"
				class="oe_inline oe_stat_button"
				icon="fa-file-o"
				confirm="Вы уверены что хотите обновить данные из приказов?Данные будут перезаписаны."
			/>
		</td>
		<td>
			<button
				name="action_tabell"
				type="object"
				string="Импорт данных из Паруса"
				groups="Tabel.group_import"
				attrs="{'invisible':[('state','!=','draft')],}"
				class="oe_inline oe_stat_button"
				icon="fa-download"
				confirm="Вы уверены что хотите загрузить данные из паруса?Данные будут перезаписаны."
			/>
		</td>
	    	<td>
			<button
				name="time_button"
				type="object"
				string="Формат (минуты/десятые доли)"
				colors="red:format == True"
				class="oe_inline oe_stat_button"
				icon="fa-clock-o"
			/>
		</td>
		<td>
			<button 
				name="%(model_action_id)d" 
				type="action" 
				string="Аннулировать" 
				context="{'tabel_id':active_id,'state':'draft'}"
				states="confirmed,confirmed2"
				class="oe_inline oe_stat_button" 
				icon="fa-check-square-o"
			/>
			<button 
				name="%(model_action_id)d" 
				type="action" 
				string="Подписать(Табельщик)" 
				context="{'tabel_id':active_id,'state':'confirm'}"
				states="draft"
				class="oe_inline oe_stat_button" 
				icon="fa-pencil"
			/>
			<button 
				name="%(model_action_id)d" 
				type="action"
				string="Подписать(Начальник)" 
				context="{'tabel_id':active_id,'state':'confirm2'}"
				states="confirmed"
				class="oe_inline oe_stat_button" 
				icon="fa-pencil"
			/>
			<button 
				name="%(model_action_id)d" 
				type="action" 
				string="Подписать (Бухгалтер)" 
				context="{'tabel_id':active_id,'state':'done'}"
				states="confirmed2"
				class="oe_inline oe_stat_button" 
				icon="fa-pencil"
			/>
		</td>
	    </tr>
	</table>
	<field name="ids_string" widget="one2Many" context="{'time_start_t':time_start_t,'time_end_t':time_end_t}"/>
	</form>
	</field>
    </record>

    <!-- tabel tree view -->
    <record model="ir.ui.view" id="tabel_tree_view">
	<field name="name">tabel.tree</field>
        <field name="model">tabel.tabel</field>
	<field name="arch" type="xml">
	<tree string="Tabel List">
<!--	    <field name="id"/>  -->
	    <field name="id_ank" string="Табельщик"/>
	    <field name="id_division" string="Подразделение" />
	    <field name="create_date" string="дата создания" />
	    <field name="ank_signature_boss" string="Начальник"/>
	    <field name="ank_signature_accountant" string="Бухгалтер"/>

	    <field name="time_start_t" string="Дата начала табеля"/>
	    <field name="time_end_t" string="Дата конца табеля"/>
<!--	    <field name="signature_tabel" string="Подпись1"/>
	    <field name="signature_boss" string="Подпись2"/>
	    <field name="signature_accountant" string="Подпись3"/>
	    <field name="num_tabel" string="Номер табеля"/>  -->
	    <field name="ids_string" string="Количество записей"/>

	</tree>
	</field>
    </record>

    <!-- tabel graph view -->
    <record model="ir.ui.view" id="tabel_graph_view">
	<field name="name">tabel.graph</field>
        <field name="model">tabel.tabel</field>
	<field name="arch" type="xml">
	<graph string="Leads Analysis" type="bar" stacked="True">
<!--	    <field name="id"/>  -->

	    <field name="time_start_t" string="Дата начала табеля"/>
	    <field name="time_end_t" string="Дата конца табеля"/>
<!--	    <field name="signature_tabel" string="Подпись1"/>
	    <field name="signature_boss" string="Подпись2"/>
	    <field name="signature_accountant" string="Подпись3"/>
	    <field name="num_tabel" string="Номер табеля"/>  -->


	</graph>
	</field>
    </record>

    <!-- tabel calendar view -->
    <record model="ir.ui.view" id="tabel_calendar_view">
	<field name="name">tabel.calendar</field>
        <field name="model">tabel.tabel</field>
	<field name="arch" type="xml">
	<calendar date_start="time_start_t" date_stop="time_end_t" string="Tasks" color="time_end_t">
		<!--<field name="time_start_t" string="Дата начала табеля" />-->
		<field name="time_end_t" string="Дата конца табеля" />
	</calendar>
	</field>
    </record>

    <!-- string form view -->
    <record model="ir.ui.view" id="string_form_view">
	<field name="name">string.form</field>
	<field name="model">tabel.string</field>
	<field name="arch" type="xml">
	<form string="String Form">
	    
		<group>
		<tr>
		    <td><field name="id_tabel" string="Название организации" readonly= "True"/>
		    <field name="id_fcac" string="ФИО" readonly= "True"/>
		    <field name="id_person" string="ФИО" readonly= "True"/>
		    <field name="id_tipdol" string="должность" readonly= "True"/>
		    <field name="id_vidisp" string="вид л.с." readonly= "True"/>
		    <field name="id_post" string="должность" readonly= "True"/>
		    <field name="stqnt" string="кол-во ст." readonly= "True"/></td>
		
		
		    <td><field name="days_appear" string ="сумма дней"/>
		    <field name="hours_main" string="Основные часы"/>
		    <field name="hours_internal" string="Внутренние часы"/>
		    <field name="days_absences" string="Неявки"/>
		    <field name="days_absences_sum" string="Сумма Неявок"/> </td>
		
		
		    <td><field name="counter" invisible="True"/>
		    <field name="percent"/>
		    <field name="hours_night"/>
		    <field name="hours_holiday"/></td>
		    <field name="complet" invisible="True"/>
		</tr>
		</group>

		<table>
			    <tr>
			    <th>Понедельник</th>
			    <th>Вторник</th>
			    <th>Среда</th>
			    <th>Четверг</th>
			    <th>Пятница</th>
			    <th>Суббота</th>
			    <th>Воскресенье</th>
			    </tr>

			   <tr>	
					<td><field name="hours1" /></td>
					<td><field name="hours2"/></td>
                           		<td><field name="hours3"/></td>
                           		<td><field name="hours4"/></td>
                           		<td><field name="hours5"/></td>
                           		<td><field name="hours6"/></td>
                           		<td><field name="hours7"/></td>
			    </tr>
			    <tr>
                           		<td><field name="hours8"/></td>
                           		<td><field name="hours9"/></td>
                           		<td><field name="hours10"/></td>
                           		<td><field name="hours11"/></td>
                           		<td><field name="hours12"/></td>
                           		<td><field name="hours13"/></td>
                           		<td><field name="hours14"/></td>
			    </tr>
			    <tr>
                           		<td><field name="hours15"/></td>
					<td><field name="hours16"/></td>
                           		<td><field name="hours17"/></td>
                           		<td><field name="hours18"/></td>
                           		<td><field name="hours19"/></td>
                           		<td><field name="hours20"/></td>
                           		<td><field name="hours21"/></td>
			    </tr>
			    <tr>
                           		<td><field name="hours22"/></td>
                           		<td><field name="hours23"/></td>
                           		<td><field name="hours24"/></td>
                           		<td><field name="hours25"/></td>
                           		<td><field name="hours26"/></td>
                           		<td><field name="hours27"/></td>
                           		<td><field name="hours28"/></td>
			    </tr>
			    <tr>
                           		<td><field name="hours29"/></td>
                           		<td><field name="hours30"/></td>
                           		<td><field name="hours31"/></td>
			    </tr>
			    
		    
			
	    </table>
        </form>
        </field>
    </record>

    <!-- string tree view  editable="bottom"-->
    <record model="ir.ui.view" id="string_tree_view">
	<field name="name">string.tree</field>
	<field name="model">tabel.string</field>
	<field name="arch" type="xml">
	<tree string="String Tree" colors="blue:counter == 1; red:counter == 2"   toolbar="1">
					<field name="id_fcac" string="ФИО" />
					<field name="id_person" string="ФИО" invisible="True"/>
					<field name="id_post" invisible="True"/>
					<field name="id_katper" invisible="True"/>
					<field name="id_tipdol"/>
					<field name="id_vidisp"/>
					<field name="stqnt" string="кол-во ст."/>
					<field name="hours1"/>
					<field name="hours2"/>
       					<field name="hours3"/>
       					<field name="hours4"/>
       					<field name="hours5"/>
                       			<field name="hours6"/>
                           		<field name="hours7"/>
                           		<field name="hours8"/>
                           		<field name="hours9"/>
                           		<field name="hours10"/>
                           		<field name="hours11"/>
                           		<field name="hours12"/>
                           		<field name="hours13"/>
                           		<field name="hours14"/>
                           		<field name="hours15"/>
                           		<field name="hours16"/>
                           		<field name="hours17"/>
                           		<field name="hours18"/>
                           		<field name="hours19"/>
                           		<field name="hours20"/>
                           		<field name="hours21"/>
                           		<field name="hours22"/>
                           		<field name="hours23"/>
                           		<field name="hours24"/>
                           		<field name="hours25"/>
                           		<field name="hours26"/>
                           		<field name="hours27"/>
                           		<field name="hours28"/>
                           		<field name="hours29"/>
                           		<field name="hours30"/>
                           		<field name="hours31"/>
					<field name="percent"/>
					<field name="hours_night"/>
					<field name="hours_holiday"/>
					<field name="days_appear"/>
					<field name="hours_main"/>
					<field name="hours_internal"/>
					<field name="days_absences"/>
					<field name="days_absences_sum"/>
					<field name="counter" invisible="True"/>
					<field name="complet" invisible="True"/>
				
					
	</tree>
	</field>
    </record>
<!-- tipdol form view -->
         <record model="ir.ui.view" id="tipdol_form_view">
            <field name="name">tipdol.form</field>
            <field name="model">tabel.tipdol</field>
            <field name="arch" type="xml">
		<form string="Tipdol Form">
                    <sheet>
                        <group>
                            <field name="name"/>
                            <field name="num"/>
                            <field name="code"/>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>
<!-- tipdol tree view -->
     <record model="ir.ui.view" id="tipdol_tree_view">
            <field name="name">tipdol.tree</field>
            <field name="model">tabel.tipdol</field>
            <field name="arch" type="xml">
                <tree string="Tipdol Tree" >
			<field name="num"/>
             		<field name="name"/>
             		<field name="code"/>
			<field name="id" />
                </tree>
            </field>
        </record>

<!-- post form view -->
         <record model="ir.ui.view" id="post_form_view">
            <field name="name">post.form</field>
            <field name="model">tabel.post</field>
            <field name="arch" type="xml">
		<form string="Post Form">
                    <sheet>
                        <group>
                            <field name="name"/>
                            <field name="num"/>
			    <field name="enddate"/>
			    <field name="startdate"/>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>
<!-- post tree view -->
     <record model="ir.ui.view" id="post_tree_view">
            <field name="name">post.tree</field>
            <field name="model">tabel.post</field>
            <field name="arch" type="xml">
                <tree string="Post Tree" >
			<field name="num"/>
             		<field name="name"/> 
			<field name="id" />
			<field name="enddate"/>
			<field name="startdate"/>
                </tree>
            </field>
        </record>
<!-- ank search view -->
	<record id="view_ank_search" model="ir.ui.view">
		<field name="name">tabel.ank.search</field>
		<field name="model">tabel.ank</field>
		<field name="type">search</field>
		<field name="arch" type="xml">
		<search string="Checker">
		    <field name="orgbase_rn" select="True"/>
		</search>
		</field>
	</record>
<!-- ank tree view -->
     <record model="ir.ui.view" id="ank_tree_view">
            <field name="name">ank.tree</field>
            <field name="model">tabel.ank</field>
            <field name="arch" type="xml">
                <tree string="Ank Tree" >
			<field name="id"/>
			<field name="orgbase_rn"/>
			<field name="tab_num"/>
			<field name="jobbegin"/>
			<field name="jobend"/>
                </tree>
            </field>
        </record> 
 <!-- ank form view -->
         <record model="ir.ui.view" id="ank_form_view">
            <field name="name">ank.form</field>
            <field name="model">tabel.ank</field>
            <field name="arch" type="xml">
		<form string="ANK Form">
                    <sheet>
                        <group>
				<field name="orgbase_rn"/>
				<field name="tab_num"/>
				<field name="jobbegin"/>
				<field name="jobend"/>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

<!-- fcac search view -->
	<record id="view_fcac_search" model="ir.ui.view">
		<field name="name">tabel.fcac.search</field>
		<field name="model">tabel.fcac</field>
		<field name="type">search</field>
		<field name="arch" type="xml">
		<search string="Checker">
		    <field name="ank_rn" select="True"/>
		    <field name="id" select="True"/>
		</search>
		</field>
	</record>
 <!-- fcac form view -->
         <record model="ir.ui.view" id="fcac_form_view">
            <field name="name">fcac.form</field>
            <field name="model">tabel.fcac</field>
            <field name="arch" type="xml">
		<form string="FCAC Form">
                    <sheet>
                        <group>
				<field name="ank_rn"/>
				<field name="post_rn"/>
				<field name="subdiv_rn"/>
				<field name="vidisp_rn"/>
				<field name="startdate"/>
				<field name="enddate"/>
				<field name="fcacch_rn"/>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>
<!-- fcac tree view -->
     <record model="ir.ui.view" id="fcac_tree_view">
            <field name="name">fcac.tree</field>
            <field name="model">tabel.fcac</field>
            <field name="arch" type="xml">
                <tree string="Fcac Tree" >
			<field name="id"/>
			<field name="ank_rn"/>
			<field name="tipdol_rn"/>
			<field name="post_rn"/>
			<field name="subdiv_rn"/>
			<field name="vidisp_rn"/>
			<field name="startdate"/>
			<field name="enddate"/>
			<field name="katper_rn"/>
                </tree>
            </field>
        </record>

<!--
         <record model="ir.ui.view" id="ustring_form_view">
            <field name="name">ustring.form</field>
            <field name="model">tabel.ustring</field>
            <field name="arch" type="xml">
		<form string="Ustring Form">
                    <sheet>
                        <group>
			<field name="id_fcac"/>
             		<field name="id_upload"/>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>-->

<!-- person search view -->
	<record id="view_person_search" model="ir.ui.view">
		<field name="name">tabel.person.search</field>
		<field name="model">tabel.person</field>
		<field name="type">search</field>
		<field name="arch" type="xml">
		<search string="Checker">
<!--		    <field name="surname" select="True"/> -->
		    <field name="full_name" select="True"/>
		    <field name="id" select="True"/>
		</search>
		</field>
	</record>
<!-- person form view-->
         <record model="ir.ui.view" id="person_form_view">
            <field name="name">person.form</field>
            <field name="model">tabel.person</field>
            <field name="arch" type="xml">
		<form string="PERSON Form">
                    <sheet>
                        <group>
				<field name="surname"/>
				<field name="firstname"/>
				<field name="secondname"/>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>
<!-- person tree view -->
     <record model="ir.ui.view" id="person_tree_view">
            <field name="name">person.tree</field>
            <field name="model">tabel.person</field>
            <field name="arch" type="xml">
                <tree string="Person Tree" >
			<field name="id"/>
			<field name="surname"/>
			<field name="firstname"/>
			<field name="secondname"/>
			<field name="full_name"/>
	<!--		<field name="initials_first"/>-->
                </tree>
            </field>
        </record> 

<!-- vidisp form view -->
         <record model="ir.ui.view" id="vidisp_form_view">
            <field name="name">vidisp.form</field>
            <field name="model">tabel.vidisp</field>
            <field name="arch" type="xml">
		<form string="vidisp Form">
                    <sheet>
                        <group>
				<field name="code"/>
				<field name="name"/>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>
<!-- vidisp tree view -->
     <record model="ir.ui.view" id="vidisp_tree_view">
            <field name="name">vidisp.tree</field>
            <field name="model">tabel.vidisp</field>
            <field name="arch" type="xml">
                <tree string="vidisp Tree" >
			<field name="id"/>
			<field name="code"/>
			<field name="name"/>
                </tree>
            </field>
        </record>

<!-- fcacwth tree view -->
     <record model="ir.ui.view" id="fcacwth_tree_view">
            <field name="name">fcacwth.tree</field>
            <field name="model">tabel.fcacwth</field>
            <field name="arch" type="xml">
                <tree string="vidisp Tree" >
			<field name="id"/>
			<field name="fcac_rn"/>
			<field name="date"/>
			<field name="hourqnt"/>
                </tree>
            </field>
        </record>
<!-- fcacwtd tree view -->
     <record model="ir.ui.view" id="fcacwtd_tree_view">
            <field name="name">fcacwtd.tree</field>
            <field name="model">tabel.fcacwtd</field>
            <field name="arch" type="xml">
                <tree string="vidisp Tree" >
			<field name="id"/>
			<field name="fcac_rn"/>
			<field name="date"/>
			<field name="daytype_rn"/>
                </tree>
            </field>
        </record>
<!-- daytype tree view -->
     <record model="ir.ui.view" id="daytype_tree_view">
            <field name="name">daytype.tree</field>
            <field name="model">tabel.daytype</field>
            <field name="arch" type="xml">
                <tree string="vidisp Tree" >
			<field name="id"/>
			<field name="nick"/>
			<field name="name"/>
                </tree>
            </field>
        </record> 
<!-- fcacch form view -->
         <record model="ir.ui.view" id="fcacch_form_view">
            <field name="name">fcacch.form</field>
            <field name="model">tabel.fcacch</field>
            <field name="arch" type="xml">
		<form string="fcacch Form">
                    <sheet>
                        <group>
				<field name="fcacbs_rn"/>
				<field name="stqnt"/>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>
<!-- fcacch tree view -->
     <record model="ir.ui.view" id="fcacch_tree_view">
            <field name="name">fcacch.tree</field>
            <field name="model">tabel.fcacch</field>
            <field name="arch" type="xml">
                <tree string="fcacch Tree" >
			<field name="id"/>
			<field name="fcacbs_rn"/>
			<field name="grrbdc_rn"/>
			<field name="stqnt"/>
                </tree>
            </field>
        </record> 
<!-- grday tree view -->
     <record model="ir.ui.view" id="grday_tree_view">
            <field name="name">grday.tree</field>
            <field name="model">tabel.grday</field>
            <field name="arch" type="xml">
                <tree string="Grday Tree" >
			<field name="id"/>
			<field name="monthday"/>
			<field name="hourinday"/>
			<field name="grmonth_rn"/>
                </tree>
            </field>
        </record>
<!-- grday graph view -->
     <record model="ir.ui.view" id="grday_graph_view">
            <field name="name">grday.graph</field>
            <field name="model">tabel.grday</field>
            <field name="arch" type="xml">
	    <graph string="Leads Analysis" type="pivot" stacked="True">
			<field name="monthday"/>
			<field name="hourinday"/>
			<field name="grmonth_rn"/>
                </graph>
            </field>
        </record>		
<!-- grmonth tree view -->
     <record model="ir.ui.view" id="grmonth_tree_view">
            <field name="name">grmonth.tree</field>
            <field name="model">tabel.grmonth</field>
            <field name="arch" type="xml">
                <tree string="Grmonth Tree" >
			<field name="id"/>
			<field name="grrbdc_rn"/>
			<field name="year"/>
			<field name="month"/>
			<field name="dayall"/>
			<field name="hourall"/>
                </tree>
            </field>
        </record>
<!-- grrbdc tree view -->
     <record model="ir.ui.view" id="grrbdc_tree_view">
            <field name="name">grrbdc.tree</field>
            <field name="model">tabel.grrbdc</field>
            <field name="arch" type="xml">
                <tree string="Grrbdc Tree" >
			<field name="id"/>
			<field name="code"/>
			<field name="name"/>
			<field name="daysmean"/>
			<field name="hourmean"/>
			<field name="workweek"/>
			<field name="daysmin"/>
			<field name="hourmin"/>
                </tree>
            </field>
        </record>
<!-- katper tree view -->
     <record model="ir.ui.view" id="katper_tree_view">
            <field name="name">katper.tree</field>
            <field name="model">tabel.katper</field>
            <field name="arch" type="xml">
                <tree string="Katper Tree" >
			<field name="id"/>
			<field name="code"/>
			<field name="name"/>
			<field name="nick"/>
			<field name="num"/>
                </tree>
            </field>
        </record>
<!-- upload search view -->
    <record id="view_upload_search" model="ir.ui.view">
        <field name="name">tabel.upload.search</field>
        <field name="model">tabel.upload</field>
        <field name="type">search</field>
        <field name="arch" type="xml">
            <search string="Checker">
		    <field name="time_end" select="True"/>
		    <field name="time_start" select="True"/>
            </search>
        </field>
    </record>

<!-- upload tree view -->
     <record model="ir.ui.view" id="upload_tree_view">
            <field name="name">upload.tree</field>
            <field name="model">tabel.upload</field>
            <field name="arch" type="xml">
                <tree string="Upload Tree" >
			<field name="time_start"/>
             		<field name="time_end"/>
             		<field name="checker"/>
<!--			<field name="id_fcac"/>
             		<field name="id_tipdol"/>-->
                </tree>
            </field>
        </record>
<!-- upload form view -->
         <record model="ir.ui.view" id="upload_form_view">
            <field name="name">upload.form</field>
            <field name="model">tabel.upload</field>
            <field name="arch" type="xml">
		<form string="Upload Form">
                        <group>
			<field name="time_start"/>
             		<field name="time_end"/>
             		<field name="id_division" domain="[('enddate','&gt;=',time_start),('startdate','&lt;=',time_end)   ]" placeholder="Сначала введите дату,(не выбрано=выгрузить все)"/>
             		<field name="checker"/>
<!--			<field name="id_fcac"/>
         		<field name="id_tipdol"/> -->
			<button
				name="action_upload"
				type="object"
				string="Создать выгрузку"
				class="oe_inline oe_stat_button"
				icon="fa-file-o"
				confirm="Вы уверены что хотите обновить данные из приказов?Данные будут перезаписаны."
			/>
			<separator string="Выгрузка"/>
                        </group>
             		<field name="ids_ustring" widget="handle"/>
                </form>
            </field>
        </record>

<!-- upload form view 2 -->
         <record model="ir.ui.view" id="upload2_form_view">
            <field name="name">upload2.form</field>
            <field name="model">tabel.upload</field>
            <field name="arch" type="xml">
		<form string="Upload2 Form">
                        <group>

			<field name="time_start"/>
             		<field name="time_end"/>
             		<field name="id_division" domain="[('enddate','&gt;=',time_start),('startdate','&lt;=',time_end)   ]" placeholder="Сначала введите дату,(не выбрано=выгрузить все)"/>
             		<field name="checker"/>
			<button
				name="action_upload"
				type="object"
				string="Создать численность"
				class="oe_inline oe_stat_button"
				icon="fa-file-o"
				confirm="Вы уверены что хотите обновить данные из приказов?Данные будут перезаписаны."
			/>
			<separator string="Среднесписочность численность"/>
                        </group>
             		<field name="ids_ustring"/>
                </form>
            </field>
        </record>

<!-- ustring tree view -->
     <record model="ir.ui.view" id="ustring_tree_view">
            <field name="name">ustring.tree</field>
            <field name="model">tabel.ustring</field>
            <field name="arch" type="xml">
                <tree string="Ustring Tree" >
              		<field name="id_division"/>
              		<field name="ids_string"/>
			<field name="id_tipdol"/> 
              		<field name="id_vidisp"/>
					<field name="hours1"/>
					<field name="hours2"/>
       					<field name="hours3"/>
       					<field name="hours4"/>
       					<field name="hours5"/>
                       			<field name="hours6"/>
                           		<field name="hours7"/>
                           		<field name="hours8"/>
                           		<field name="hours9"/>
                           		<field name="hours10"/>
                           		<field name="hours11"/>
                           		<field name="hours12"/>
                           		<field name="hours13"/>
                           		<field name="hours14"/>
                           		<field name="hours15"/>
                           		<field name="hours16"/>
                           		<field name="hours17"/>
                           		<field name="hours18"/>
                           		<field name="hours19"/>
                           		<field name="hours20"/>
                           		<field name="hours21"/>
                           		<field name="hours22"/>
                           		<field name="hours23"/>
                           		<field name="hours24"/>
                           		<field name="hours25"/>
                           		<field name="hours26"/>
                           		<field name="hours27"/>
                           		<field name="hours28"/>
                           		<field name="hours29"/>
                           		<field name="hours30"/>
                           		<field name="hours31"/>
              		<field name="hours_main"/>
              		<field name="hours_internal"/>
			<field name="hours_sov"/>
			<field name="hours_isp"/>
			<field name="hours_zon"/>
			<field name="hours_uve"/>
<!--           		<field name="id_upload"/>
              		<field name="id_string"/>-->
			<field name="hours_all"/>
			<field name="norm_hours"/>
			<field name="stqnt"/>
                </tree>
            </field>
        </record>

<!-- tabel search view -->
	<record id="view_tabel_search2" model="ir.ui.view">
		<field name="name">tabel.tabel.search2</field>
		<field name="model">tabel.tabel</field>
		<field name="type">search</field>
		<field name="arch" type="xml">
		<search string="Checker">
		    <filter 
		    string="Текущий и последующие месяцы" 
		    name="male" 
		    domain="[('time_end_t', '>=' ,(context_today()-datetime.timedelta(weeks=1)).strftime('%Y-%m-%d'))]" 
		    help = "Чтобы посмотреть табели за прошлые месяцы нажмите ВСЕ"/>
		    <field name="time_start_t" select="True"/>
		    <field name="id_ank" select="True"/>
		</search>
		</field>
	</record>

<!-- ACTIONS -->
        <record model="ir.actions.act_window" id="string_list_action">
            <field name="name">String</field>
            <field name="res_model">tabel.string</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree</field>
	    <field name="limit">2000</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">Create the new string
                </p>
            </field>
        </record>


	<record model="ir.actions.act_window" id="tabel_list_all_action">
            <field name="name">Tabel All</field>
            <field name="res_model">tabel.tabel</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form,calendar</field>
		<field name="limit">500</field>
        </record>

	
	<record model="ir.actions.act_window" id="tabel_list_draft_action">
            <field name="name">На подпись табельщика</field>
            <field name="res_model">tabel.tabel</field>
            <field name="view_type">form</field>
	    <field name="domain">[('state','=', 'draft')]</field>
            <field name="view_mode">tree,form,graph</field>
	    <field name="search_view_id" ref="view_tabel_search2"/>
	    <field name="context">{'search_default_male':1}</field>

        </record>

	<record model="ir.actions.act_window" id="tabel_list_confirmed2_action">
            <field name="name">На подпись нач. отдела</field>
            <field name="res_model">tabel.tabel</field>
            <field name="view_type">form</field>
	    <field name="domain">[('state','=', 'confirmed2')]</field>
            <field name="view_mode">tree,form</field>
        </record>

	
 	<record model="ir.actions.act_window" id="tabel_list_confirmed_action">
            <field name="name">На подпись бухгалтеру</field>
            <field name="res_model">tabel.tabel</field>
	    <field name="domain">[('state','=','confirmed')]</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>

	
	<record model="ir.actions.act_window" id="tabel_list_done_action">
            <field name="name">Исполненные</field>
            <field name="res_model">tabel.tabel</field>
            <field name="view_type">form</field>
	    <field name="domain">[('state','=', 'done')]</field>
            <field name="view_mode">tree,form</field>
        </record>


	<!-- window action division-->
 	<record model="ir.actions.act_window" id="division_list_action">
            <field name="name">Division</field>
            <field name="res_model">tabel.division</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>
	<!-- window action tipdol-->
	<record model="ir.actions.act_window" id="tipdol_list_action">
            <field name="name">Tipdol</field>
            <field name="res_model">tabel.tipdol</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>
	<!-- window action post-->
	<record model="ir.actions.act_window" id="post_list_action">
            <field name="name">Post</field>
            <field name="res_model">tabel.post</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>

	<!-- window action grday-->
	<record model="ir.actions.act_window" id="grday_list_action">
            <field name="name">Grday</field>
            <field name="res_model">tabel.grday</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form,graph</field>
        </record>

	<!-- window action grmonth-->
	<record model="ir.actions.act_window" id="grmonth_list_action">
            <field name="name">Grmonth</field>
            <field name="res_model">tabel.grmonth</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>

	<!-- window action grrbdc-->
	<record model="ir.actions.act_window" id="grrbdc_list_action">
            <field name="name">Grrbdc</field>
            <field name="res_model">tabel.grrbdc</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>

	<!-- window action katper-->
	<record model="ir.actions.act_window" id="katper_list_action">
            <field name="name">Katper</field>
            <field name="res_model">tabel.katper</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>

	<!-- window action ank-->
	<record model="ir.actions.act_window" id="ank_list_action">
            <field name="name">Ank</field>
            <field name="res_model">tabel.ank</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>
	<!-- window action fcac-->
	<record model="ir.actions.act_window" id="fcac_list_action">
            <field name="name">Fcac</field>
            <field name="res_model">tabel.fcac</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>
	<!-- window action person-->
	<record model="ir.actions.act_window" id="person_list_action">
            <field name="name">Person</field>
            <field name="res_model">tabel.person</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
<field name="limit">2000</field>
        </record>
	<!-- window action vidisp-->
	<record model="ir.actions.act_window" id="vidisp_list_action">
            <field name="name">Vidisp</field>
            <field name="res_model">tabel.vidisp</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>
	<!-- window action fcacch-->
	<record model="ir.actions.act_window" id="fcacch_list_action">
            <field name="name">Fcacch</field>
            <field name="res_model">tabel.fcacch</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
<field name="limit">500</field>
        </record>
	<!-- window action fcacwth-->
	<record model="ir.actions.act_window" id="fcacwth_list_action">
            <field name="name">Fcacwth</field>
            <field name="res_model">tabel.fcacwth</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
<field name="limit">500</field>
        </record>
	<!-- window action fcacwtd-->
	<record model="ir.actions.act_window" id="fcacwtd_list_action">
            <field name="name">Fcacwtd</field>
            <field name="res_model">tabel.fcacwtd</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
	    <field name="limit">500</field>
        </record>
	<!-- window action daytype-->
	<record model="ir.actions.act_window" id="daytype_list_action">
            <field name="name">Daytype</field>
            <field name="res_model">tabel.daytype</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>

	<!-- window action temp-->
	<record model="ir.actions.act_window" id="temp_list_action">
            <field name="name">Temp</field>
            <field name="res_model">tabel.temp</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>

        <!-- window action passwd2-->
        <record model="ir.actions.act_window" id="password2_list_action">
            <field name="name">Password2</field>
            <field name="res_model">tabel.password</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form,graph</field>
	    <field name="view_id" ref="password_graph_view"/>
	    <field name="context">{'state':'create'}</field>
	</record>
	<!-- window action upload-->
	<record model="ir.actions.act_window" id="upload_list_action">
            <field name="name">Upload</field>
            <field name="res_model">tabel.upload</field>
            <field name="view_type">form</field>
    	    <field name="view_mode">tree,form</field>
	    <field name="view_id" ref="Tabel.upload_form_view"/>
        </record>

	<!-- window action upload2-->
	<record model="ir.actions.act_window" id="upload2_list_action">
            <field name="name">Upload2</field>
            <field name="res_model">tabel.upload</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
	    <field name="view_id" ref="Tabel.upload2_form_view"/>
        </record>


        <!-- top level menu: no parent -->
        <menuitem id="main_tabel_menu" name="Tabel"/>

        <menuitem id="tabel_menu" name="Управление табелями"
                  parent="main_tabel_menu" />

        <menuitem id="tabel_menu_settings" name="Настройки"
                  parent="main_tabel_menu"  groups="Tabel.group_manager"/>

    <menuitem id="tabel_menu_economists" name="Экономисты"
                  parent="main_tabel_menu" groups="Tabel.group_eco"/>

        <menuitem id="upload_tabel_menu" name="Выгрузка"
		  parent="tabel_menu_economists"
                  action="upload_list_action"/>

        <menuitem id="upload2_tabel_menu" name="Среднечисленная списочность"
		  parent="tabel_menu_economists"
                  action="upload2_list_action"/>


<!-- 
        <menuitem id="new_tabel_menu" name="Сотрудники"
		  parent="tabel_menu_settings"
                  action="employee_list_action"/> -->
        <menuitem id="password_tabel_menu" name="Password"
		  parent="tabel_menu_settings"
                  action="password2_list_action"/> 

        <menuitem id="ank_tabel_menu" name="Сотрудники"
		  parent="tabel_menu_settings"
                  action="ank_list_action"/> 
        <menuitem id="fcac_tabel_menu" name="Лицевые счета"
		  parent="tabel_menu_settings"
                  action="fcac_list_action"/>
        <menuitem id="person_tabel_menu" name="Персоны(ФИО)"
		  parent="tabel_menu_settings"
                  action="person_list_action"/>
        <menuitem id="vidisp_tabel_menu" name="Виды лицевых счетов"
		  parent="tabel_menu_settings"
                  action="vidisp_list_action"/>
        <menuitem id="fcacch_tabel_menu" name="Ставки"
		  parent="tabel_menu_settings"
                  action="fcacch_list_action"/>
        <menuitem id="fcacwth_tabel_menu" name="Отработанные часы"
		  parent="tabel_menu_settings"
                  action="fcacwth_list_action"/>
        <menuitem id="fcacwtd_tabel_menu" name="Отработанные дни"
		  parent="tabel_menu_settings"
                  action="fcacwtd_list_action"/>
        <menuitem id="daytype_tabel_menu" name="Виды неявок"
		  parent="tabel_menu_settings"
                  action="daytype_list_action"/>
        <menuitem id="division_menu" name="Подразделения"
                  parent="tabel_menu_settings"
                  action="division_list_action"/>
        <menuitem id="grday_menu" name="График дни"
                  parent="tabel_menu_settings"
                  action="grday_list_action"/>
        <menuitem id="grmonth_menu" name="График месяцы"
                  parent="tabel_menu_settings"
                  action="grmonth_list_action"/>
        <menuitem id="grrbdc_menu" name="Графики работы"
                  parent="tabel_menu_settings"
                  action="grrbdc_list_action"/>
        <menuitem id="katper_menu" name="категории сотрудников"
                  parent="tabel_menu_settings"
                  action="katper_list_action"/>
        <menuitem id="post_menu" name="Должности"
                  parent="tabel_menu_settings"
                  action="post_list_action"/>

        <menuitem id="tipdol_menu" name="Должности типовые"
                  parent="tabel_menu_settings"
                  action="tipdol_list_action"/>

        <menuitem id="temp_menu" name="временная таблица"
                  parent="tabel_menu_settings"
                  action="temp_list_action"/>

        <menuitem id="string_menu" name="Строки табелей"
                  parent="tabel_menu_settings"
                  action="string_list_action"/>

        <menuitem id="tabel_menu_draft" name="Рабочие табели"
                  parent="tabel_menu"
                  action="tabel_list_draft_action" sequence="1"/>

        <menuitem id="tabel_menu_confirmed" name="На подпись начальнику"
                  parent="tabel_menu"
                  action="tabel_list_confirmed_action"  sequence="2"/>

        <menuitem id="tabel_menu_confirmed2" name="На подпись бухгалтеру"
                  parent="tabel_menu"
                  action="tabel_list_confirmed2_action"  sequence="3"/>

        <menuitem id="tabel_menu_done" name="На исполнение"
                  parent="tabel_menu"
                  action="tabel_list_done_action"  sequence="4"/> 

        <menuitem id="tabel_menu_all" name="Все"
                  parent="tabel_menu"
                  action="tabel_list_all_action"  sequence="5"/> 




	

    </data>
</openerp>



